javascript:(function()%7Bjavascript%3A(function()%7B%0A%20%20function%20getBookId()%20%7B%0A%20%20%20%20var%20match%20%3D%20document.body.innerHTML.match(%2F%22id%22%3A%22(%5B0-9a-f%5D%7B24%7D)%22%2F)%3B%0A%20%20%20%20if(match)%20return%20match%5B1%5D%3B%0A%20%20%20%20var%20el%20%3D%20document.querySelector('%5Bdata-book-id%5D')%3B%0A%20%20%20%20if(el)%20return%20el.getAttribute('data-book-id')%3B%0A%20%20%20%20var%20regex%20%3D%20%2F%5B0-9a-f%5D%7B24%7D%2Fg%3B%0A%20%20%20%20var%20potential%20%3D%20document.body.innerHTML.match(regex)%3B%0A%20%20%20%20if(potential%20%26%26%20potential.length%20%3E%200)%20return%20potential%5B0%5D%3B%0A%20%20%20%20return%20null%3B%0A%20%20%7D%0A%20%20function%20htmlToMarkdown(html)%20%7B%0A%20%20%20%20if%20(!html)%20return%20%22%22%3B%0A%20%20%20%20var%20text%20%3D%20html%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3Cstrong%3E(.*%3F)%3C%5C%2Fstrong%3E%2Fgi%2C%20'**%241**')%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3Cb%3E(.*%3F)%3C%5C%2Fb%3E%2Fgi%2C%20'**%241**')%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3Cem%3E(.*%3F)%3C%5C%2Fem%3E%2Fgi%2C%20'*%241*')%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3Ci%3E(.*%3F)%3C%5C%2Fi%3E%2Fgi%2C%20'*%241*')%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3Cul%3E%2Fgi%2C%20'')%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3C%5C%2Ful%3E%2Fgi%2C%20'')%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3Cli%3E%2Fgi%2C%20'%5Cn-%20')%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3C%5C%2Fli%3E%2Fgi%2C%20'')%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3Cbr%5Cs*%5C%2F%3F%3E%2Fgi%2C%20'%5Cn')%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3Cp%3E%2Fgi%2C%20'')%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3C%5C%2Fp%3E%2Fgi%2C%20'%5Cn%5Cn')%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3Ch%5B1-6%5D%3E(.*%3F)%3C%5C%2Fh%5B1-6%5D%3E%2Fgi%2C%20'%5Cn%23%23%20%241%5Cn')%3B%0A%20%20%20%20text%20%3D%20text.replace(%2F%3C%5B%5E%3E%5D%2B%3E%2Fg%2C%20'')%3B%0A%20%20%20%20var%20ta%20%3D%20document.createElement('textarea')%3B%0A%20%20%20%20ta.innerHTML%20%3D%20text%3B%0A%20%20%20%20return%20ta.value.trim()%3B%0A%20%20%7D%0A%20%20async%20function%20run()%20%7B%0A%20%20%20%20var%20id%20%3D%20getBookId()%3B%0A%20%20%20%20if(!id)%20%7B%20alert(%22Could%20not%20find%20Book%20ID%20on%20this%20page.%22)%3B%20return%3B%20%7D%0A%20%20%20%20var%20lang%20%3D%20window.location.pathname.split('%2F')%5B1%5D%20%7C%7C%20'en'%3B%0A%20%20%20%20var%20apiUrl%20%3D%20'https%3A%2F%2Fapi.blinkist.com%2Ftranscripts%2F'%20%2B%20id%20%2B%20'%3Flanguage%3D'%20%2B%20lang%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20var%20response%20%3D%20await%20fetch(apiUrl)%3B%0A%20%20%20%20%20%20if(!response.ok)%20throw%20new%20Error(%22API%20Request%20failed%3A%20%22%20%2B%20response.status)%3B%0A%20%20%20%20%20%20var%20data%20%3D%20await%20response.json()%3B%0A%20%20%20%20%20%20var%20md%20%3D%20'%23%20'%20%2B%20document.title.replace('%20-%20Blinkist'%2C%20'')%20%2B%20'%5Cn%5Cn'%3B%0A%20%20%20%20%20%20if%20(data.transcript%20%26%26%20data.transcript.transcriptSections)%20%7B%0A%20%20%20%20%20%20%20%20data.transcript.transcriptSections.forEach(function(section)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(section.transcriptComponents)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20section.transcriptComponents.forEach(function(component)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(component.value%20%26%26%20component.value.html)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20clean%20%3D%20htmlToMarkdown(component.value.html)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(component.componentType%20%3D%3D%3D%20'header')%20md%20%2B%3D%20'%23%23%20'%20%2B%20clean%20%2B%20'%5Cn%5Cn'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20md%20%2B%3D%20clean%20%2B%20'%5Cn%5Cn'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20md%20%3D%20%22No%20transcript%20data%20found.%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20md%20%3D%20md.replace(%2F%5Cn%7B3%2C%7D%2Fg%2C%20%22%5Cn%5Cn%22)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20var%20container%20%3D%20document.createElement('div')%3B%0A%20%20%20%20%20%20container.style.cssText%20%3D%20%22position%3Afixed%3Btop%3A0%3Bleft%3A0%3Bwidth%3A100%25%3Bheight%3A100%25%3Bbackground%3Argba(0%2C0%2C0%2C0.8)%3Bz-index%3A99999%3Bdisplay%3Aflex%3Bjustify-content%3Acenter%3Balign-items%3Acenter%3B%22%3B%0A%20%20%20%20%20%20container.id%20%3D%20%22blinkist-md-overlay%22%3B%0A%20%20%20%20%20%20var%20box%20%3D%20document.createElement('div')%3B%0A%20%20%20%20%20%20box.style.cssText%20%3D%20%22background%3A%23fff%3Bwidth%3A800px%3Bheight%3A80%25%3Bpadding%3A20px%3Bborder-radius%3A8px%3Bdisplay%3Aflex%3Bflex-direction%3Acolumn%3Bbox-shadow%3A0%200%2020px%20rgba(0%2C0%2C0%2C0.5)%3B%22%3B%0A%20%20%20%20%20%20var%20header%20%3D%20document.createElement('div')%3B%0A%20%20%20%20%20%20header.style.cssText%20%3D%20%22display%3Aflex%3Bjustify-content%3Aspace-between%3Bmargin-bottom%3A10px%3B%22%3B%0A%20%20%20%20%20%20header.innerHTML%20%3D%20'%3Ch2%20style%3D%22margin%3A0%22%3EMarkdown%20content%3C%2Fh2%3E%3Cbutton%20onclick%3D%22document.getElementById(%5C'blinkist-md-overlay%5C').remove()%22%3EClose%3C%2Fbutton%3E'%3B%0A%20%20%20%20%20%20var%20textarea%20%3D%20document.createElement('textarea')%3B%0A%20%20%20%20%20%20textarea.value%20%3D%20md%3B%0A%20%20%20%20%20%20textarea.style.cssText%20%3D%20%22flex%3A1%3Bwidth%3A100%25%3Bfont-family%3Amonospace%3Bpadding%3A10px%3Bborder%3A1px%20solid%20%23ccc%3B%22%3B%0A%20%20%20%20%20%20var%20footer%20%3D%20document.createElement('div')%3B%0A%20%20%20%20%20%20footer.style.cssText%20%3D%20%22margin-top%3A10px%3Btext-align%3Aright%3B%22%3B%0A%20%20%20%20%20%20var%20copyBtn%20%3D%20document.createElement('button')%3B%0A%20%20%20%20%20%20copyBtn.innerText%20%3D%20%22Copy%20to%20Clipboard%22%3B%0A%20%20%20%20%20%20copyBtn.style.cssText%20%3D%20%22padding%3A10px%2020px%3Bbackground%3A%23007acc%3Bcolor%3Awhite%3Bborder%3Anone%3Bcursor%3Apointer%3Bborder-radius%3A4px%3B%22%3B%0A%20%20%20%20%20%20copyBtn.onclick%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20textarea.select()%3B%0A%20%20%20%20%20%20%20%20document.execCommand('copy')%3B%0A%20%20%20%20%20%20%20%20this.innerText%20%3D%20%22Copied!%22%3B%0A%20%20%20%20%20%20%20%20var%20_this%20%3D%20this%3B%0A%20%20%20%20%20%20%20%20setTimeout(function()%7B%20_this.innerText%20%3D%20%22Copy%20to%20clipboard%22%3B%20%7D%2C%202000)%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20footer.appendChild(copyBtn)%3B%0A%20%20%20%20%20%20box.appendChild(header)%3B%0A%20%20%20%20%20%20box.appendChild(textarea)%3B%0A%20%20%20%20%20%20box.appendChild(footer)%3B%0A%20%20%20%20%20%20container.appendChild(box)%3B%0A%20%20%20%20%20%20document.body.appendChild(container)%3B%0A%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20alert(%22Error%3A%20%22%20%2B%20e.message)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20run()%3B%0A%7D)()%3B%7D)()%3B
